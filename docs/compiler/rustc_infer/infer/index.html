<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `infer` mod in crate `rustc_infer`."><title>rustc_infer::infer - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-47e7ab555ef2818a.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rustc_infer" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0-nightly (58eefc33a 2023-08-24)" data-channel="nightly" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-b2d31d2efc7e9b67.css" data-theme-dark-css="dark-3388a2fb2ef8066b.css" data-theme-ayu-css="ayu-8c3c66a6cf12cb2f.css" ><script src="../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="../../static.files/main-ef3a2de404864b0b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-b2d31d2efc7e9b67.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-3388a2fb2ef8066b.css"><link rel="stylesheet" href="../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../rustc_infer/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../rustc_infer/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module infer</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">rustc_infer</a>::<wbr><a class="mod" href="#">infer</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/rustc_infer/infer/mod.rs.html#1-2029">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><h2 id="reexports" class="small-section-header"><a href="#reexports">Re-exports</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.DefineOpaqueTypes"><code>pub use self::at::<a class="enum" href="at/enum.DefineOpaqueTypes.html" title="enum rustc_infer::infer::at::DefineOpaqueTypes">DefineOpaqueTypes</a>;</code></div></li><li><div class="item-name"><code>pub use self::<a class="enum" href="enum.LateBoundRegionConversionTime.html" title="enum rustc_infer::infer::LateBoundRegionConversionTime">LateBoundRegionConversionTime</a>::*;</code></div></li><li><div class="item-name"><code>pub use self::<a class="enum" href="enum.RegionVariableOrigin.html" title="enum rustc_infer::infer::RegionVariableOrigin">RegionVariableOrigin</a>::*;</code></div></li><li><div class="item-name"><code>pub use self::<a class="enum" href="enum.SubregionOrigin.html" title="enum rustc_infer::infer::SubregionOrigin">SubregionOrigin</a>::*;</code></div></li><li><div class="item-name"><code>pub use self::<a class="enum" href="enum.ValuePairs.html" title="enum rustc_infer::infer::ValuePairs">ValuePairs</a>::*;</code></div></li></ul><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="at/index.html" title="mod rustc_infer::infer::at">at</a></div><div class="desc docblock-short">A nice interface for working with the infcx. The basic idea is to
do <code>infcx.at(cause, param_env)</code>, which sets the “cause” of the
operation as well as the surrounding parameter environment. Then
you can do something like <code>.sub(a, b)</code> or <code>.eq(a, b)</code> to create a
subtype or equality relationship respectively. The first argument
is always the “expected” output from the POV of diagnostics.</div></li><li><div class="item-name"><a class="mod" href="canonical/index.html" title="mod rustc_infer::infer::canonical">canonical</a></div><div class="desc docblock-short"><strong>Canonicalization</strong> is the key to constructing a query in the
middle of type inference. Ordinarily, it is not possible to store
types from type inference in query keys, because they contain
references to inference variables whose lifetimes are too short
and so forth. Canonicalizing a value T1 using <code>canonicalize_query</code>
produces two things:</div></li><li><div class="item-name"><a class="mod" href="combine/index.html" title="mod rustc_infer::infer::combine">combine</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">There are four type combiners: <a href="equate/struct.Equate.html" title="struct rustc_infer::infer::equate::Equate">Equate</a>, <a href="sub/struct.Sub.html" title="struct rustc_infer::infer::sub::Sub">Sub</a>, <a href="lub/struct.Lub.html" title="struct rustc_infer::infer::lub::Lub">Lub</a>, and <a href="glb/struct.Glb.html" title="struct rustc_infer::infer::glb::Glb">Glb</a>.
Each implements the trait <a href="../../rustc_middle/ty/relate/trait.TypeRelation.html" title="trait rustc_middle::ty::relate::TypeRelation">TypeRelation</a> and contains methods for
combining two instances of various things and yielding a new instance.
These combiner methods always yield a <code>Result&lt;T&gt;</code>. To relate two
types, you can use <code>infcx.at(cause, param_env)</code> which then allows
you to use the relevant methods of <a href="at/struct.At.html" title="struct rustc_infer::infer::at::At">At</a>.</div></li><li><div class="item-name"><a class="mod" href="equate/index.html" title="mod rustc_infer::infer::equate">equate</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="error_reporting/index.html" title="mod rustc_infer::infer::error_reporting">error_reporting</a></div><div class="desc docblock-short">Error Reporting Code for the inference engine</div></li><li><div class="item-name"><a class="mod" href="free_regions/index.html" title="mod rustc_infer::infer::free_regions">free_regions</a></div><div class="desc docblock-short">This module handles the relationships between “free regions”, i.e., lifetime parameters.
Ordinarily, free regions are unrelated to one another, but they can be related via implied
or explicit bounds. In that case, we track the bounds using the <code>TransitiveRelation</code> type,
and use that to decide when one free region outlives another, and so forth.</div></li><li><div class="item-name"><a class="mod" href="freshen/index.html" title="mod rustc_infer::infer::freshen">freshen</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Freshening is the process of replacing unknown variables with fresh types. The idea is that
the type, after freshening, contains no inference variables but instead contains either a
value for each variable or fresh “arbitrary” types wherever a variable would have been.</div></li><li><div class="item-name"><a class="mod" href="fudge/index.html" title="mod rustc_infer::infer::fudge">fudge</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="generalize/index.html" title="mod rustc_infer::infer::generalize">generalize</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="glb/index.html" title="mod rustc_infer::infer::glb">glb</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Greatest lower bound. See <a href="lattice/index.html" title="mod rustc_infer::infer::lattice"><code>lattice</code></a>.</div></li><li><div class="item-name"><a class="mod" href="higher_ranked/index.html" title="mod rustc_infer::infer::higher_ranked">higher_ranked</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Helper routines for higher-ranked things. See the <code>doc</code> module at
the end of the file for details.</div></li><li><div class="item-name"><a class="mod" href="lattice/index.html" title="mod rustc_infer::infer::lattice">lattice</a></div><div class="desc docblock-short">Lattice variables</div></li><li><div class="item-name"><a class="mod" href="lexical_region_resolve/index.html" title="mod rustc_infer::infer::lexical_region_resolve">lexical_region_resolve</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Lexical region resolution.</div></li><li><div class="item-name"><a class="mod" href="lub/index.html" title="mod rustc_infer::infer::lub">lub</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Least upper bound. See <a href="lattice/index.html" title="mod rustc_infer::infer::lattice"><code>lattice</code></a>.</div></li><li><div class="item-name"><a class="mod" href="nll_relate/index.html" title="mod rustc_infer::infer::nll_relate">nll_relate</a></div><div class="desc docblock-short">This code is kind of an alternate way of doing subtyping,
supertyping, and type equating, distinct from the <code>combine.rs</code>
code but very similar in its effect and design. Eventually the two
ought to be merged. This code is intended for use in NLL and chalk.</div></li><li><div class="item-name"><a class="mod" href="opaque_types/index.html" title="mod rustc_infer::infer::opaque_types">opaque_types</a></div></li><li><div class="item-name"><a class="mod" href="outlives/index.html" title="mod rustc_infer::infer::outlives">outlives</a></div><div class="desc docblock-short">Various code related to computing outlives relations.</div></li><li><div class="item-name"><a class="mod" href="projection/index.html" title="mod rustc_infer::infer::projection">projection</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="region_constraints/index.html" title="mod rustc_infer::infer::region_constraints">region_constraints</a></div><div class="desc docblock-short">See <code>README.md</code>.</div></li><li><div class="item-name"><a class="mod" href="resolve/index.html" title="mod rustc_infer::infer::resolve">resolve</a></div></li><li><div class="item-name"><a class="mod" href="sub/index.html" title="mod rustc_infer::infer::sub">sub</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="type_variable/index.html" title="mod rustc_infer::infer::type_variable">type_variable</a></div></li><li><div class="item-name"><a class="mod" href="undo_log/index.html" title="mod rustc_infer::infer::undo_log">undo_log</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.CombinedSnapshot.html" title="struct rustc_infer::infer::CombinedSnapshot">CombinedSnapshot</a></div></li><li><div class="item-name"><a class="struct" href="struct.InferCtxt.html" title="struct rustc_infer::infer::InferCtxt">InferCtxt</a></div></li><li><div class="item-name"><a class="struct" href="struct.InferCtxtBuilder.html" title="struct rustc_infer::infer::InferCtxtBuilder">InferCtxtBuilder</a></div><div class="desc docblock-short">Used to configure inference contexts before their creation.</div></li><li><div class="item-name"><a class="struct" href="struct.InferCtxtInner.html" title="struct rustc_infer::infer::InferCtxtInner">InferCtxtInner</a></div><div class="desc docblock-short">This type contains all the things within <code>InferCtxt</code> that sit within a
<code>RefCell</code> and are involved with taking/rolling back snapshots. Snapshot
operations are hot enough that we want only one call to <code>borrow_mut</code> per
call to <code>start_snapshot</code> and <code>rollback_to</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.InferOk.html" title="struct rustc_infer::infer::InferOk">InferOk</a></div></li><li><div class="item-name"><a class="struct" href="struct.InferenceLiteralEraser.html" title="struct rustc_infer::infer::InferenceLiteralEraser">InferenceLiteralEraser</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Replace <code>{integer}</code> with <code>i32</code> and <code>{float}</code> with <code>f64</code>.
Used only for diagnostics.</div></li><li><div class="item-name"><a class="struct" href="struct.RegionObligation.html" title="struct rustc_infer::infer::RegionObligation">RegionObligation</a></div><div class="desc docblock-short">See the <code>region_obligations</code> field for more information.</div></li><li><div class="item-name"><a class="struct" href="struct.ShallowResolver.html" title="struct rustc_infer::infer::ShallowResolver">ShallowResolver</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="struct" href="struct.TypeFreshener.html" title="struct rustc_infer::infer::TypeFreshener">TypeFreshener</a></div></li><li><div class="item-name"><a class="struct" href="struct.TypeTrace.html" title="struct rustc_infer::infer::TypeTrace">TypeTrace</a></div><div class="desc docblock-short">The trace designates the path through inference that we took to
encounter an error or subtyping constraint.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.FixupError.html" title="enum rustc_infer::infer::FixupError">FixupError</a></div></li><li><div class="item-name"><a class="enum" href="enum.IntVarValue.html" title="enum rustc_infer::infer::IntVarValue">IntVarValue</a></div></li><li><div class="item-name"><a class="enum" href="enum.LateBoundRegionConversionTime.html" title="enum rustc_infer::infer::LateBoundRegionConversionTime">LateBoundRegionConversionTime</a></div><div class="desc docblock-short">Times when we replace late-bound regions with variables:</div></li><li><div class="item-name"><a class="enum" href="enum.NllRegionVariableOrigin.html" title="enum rustc_infer::infer::NllRegionVariableOrigin">NllRegionVariableOrigin</a></div></li><li><div class="item-name"><a class="enum" href="enum.RegionResolutionError.html" title="enum rustc_infer::infer::RegionResolutionError">RegionResolutionError</a></div></li><li><div class="item-name"><a class="enum" href="enum.RegionVariableOrigin.html" title="enum rustc_infer::infer::RegionVariableOrigin">RegionVariableOrigin</a></div><div class="desc docblock-short">Reasons to create a region inference variable.</div></li><li><div class="item-name"><a class="enum" href="enum.SubregionOrigin.html" title="enum rustc_infer::infer::SubregionOrigin">SubregionOrigin</a></div><div class="desc docblock-short">The origin of a <code>r1 &lt;= r2</code> constraint.</div></li><li><div class="item-name"><a class="enum" href="enum.TyOrConstInferVar.html" title="enum rustc_infer::infer::TyOrConstInferVar">TyOrConstInferVar</a></div><div class="desc docblock-short">Helper for <a href="struct.InferCtxt.html#method.ty_or_const_infer_var_changed" title="method rustc_infer::infer::InferCtxt::ty_or_const_infer_var_changed">InferCtxt::ty_or_const_infer_var_changed</a> (see comment on that), currently
used only for <code>traits::fulfill</code>’s list of <code>stalled_on</code> inference variables.</div></li><li><div class="item-name"><a class="enum" href="enum.ValuePairs.html" title="enum rustc_infer::infer::ValuePairs">ValuePairs</a></div><div class="desc docblock-short">See the <code>error_reporting</code> module for more details.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ObligationEmittingRelation.html" title="trait rustc_infer::infer::ObligationEmittingRelation">ObligationEmittingRelation</a></div></li><li><div class="item-name"><a class="trait" href="trait.TyCtxtInferExt.html" title="trait rustc_infer::infer::TyCtxtInferExt">TyCtxtInferExt</a></div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.replace_param_and_infer_args_with_placeholder.html" title="fn rustc_infer::infer::replace_param_and_infer_args_with_placeholder">replace_param_and_infer_args_with_placeholder</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Replaces args that reference param or infer variables with suitable
placeholders. This function is meant to remove these param and infer
args when they’re not actually needed to evaluate a constant.</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Aliases</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.FixupResult.html" title="type rustc_infer::infer::FixupResult">FixupResult</a></div></li><li><div class="item-name"><a class="type" href="type.InferResult.html" title="type rustc_infer::infer::InferResult">InferResult</a></div></li><li><div class="item-name"><a class="type" href="type.UnificationTable.html" title="type rustc_infer::infer::UnificationTable">UnificationTable</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="type" href="type.UnitResult.html" title="type rustc_infer::infer::UnitResult">UnitResult</a></div></li></ul></section></div></main></body></html>