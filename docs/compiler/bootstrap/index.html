<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Implementation of rustbuild, the Rust build system."><title>bootstrap - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-47e7ab555ef2818a.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="bootstrap" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0-nightly (58eefc33a 2023-08-24)" data-channel="nightly" data-search-js="search-6dfdfced5eff6596.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-b2d31d2efc7e9b67.css" data-theme-dark-css="dark-3388a2fb2ef8066b.css" data-theme-ayu-css="ayu-8c3c66a6cf12cb2f.css" ><script src="../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-ef3a2de404864b0b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-b2d31d2efc7e9b67.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-3388a2fb2ef8066b.css"><link rel="stylesheet" href="../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../bootstrap/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../bootstrap/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate bootstrap</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 1.74.0-nightly	(58eefc33a	2023-08-24)</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">bootstrap</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/bootstrap/lib.rs.html#1-1843">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Implementation of rustbuild, the Rust build system.</p>
<p>This module, and its descendants, are the implementation of the Rust build
system. Most of this build system is backed by Cargo but the outer layer
here serves as the ability to orchestrate calling Cargo, sequencing Cargo
builds, building artifacts like LLVM, etc. The goals of rustbuild are:</p>
<ul>
<li>To be an easily understandable, easily extensible, and maintainable build
system.</li>
<li>Leverage standard tools in the Rust ecosystem to build the compiler, aka
crates.io and Cargo.</li>
<li>A standard interface to build across all platforms, including MSVC</li>
</ul>
<h3 id="further-information"><a href="#further-information">Further information</a></h3>
<p>More documentation can be found in each respective module below, and you can
also check out the <code>src/bootstrap/README.md</code> file for more information.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="builder/index.html" title="mod bootstrap::builder">builder</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="cache/index.html" title="mod bootstrap::cache">cache</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="cc_detect/index.html" title="mod bootstrap::cc_detect">cc_detect</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">C-compiler probing and detection.</div></li><li><div class="item-name"><a class="mod" href="channel/index.html" title="mod bootstrap::channel">channel</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Build configuration for Rust’s release channels.</div></li><li><div class="item-name"><a class="mod" href="check/index.html" title="mod bootstrap::check">check</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Implementation of compiling the compiler and standard library, in “check”-based modes.</div></li><li><div class="item-name"><a class="mod" href="clean/index.html" title="mod bootstrap::clean">clean</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Implementation of <code>make clean</code> in rustbuild.</div></li><li><div class="item-name"><a class="mod" href="compile/index.html" title="mod bootstrap::compile">compile</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Implementation of compiling various phases of the compiler and standard
library.</div></li><li><div class="item-name"><a class="mod" href="config/index.html" title="mod bootstrap::config">config</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Serialized configuration of a build.</div></li><li><div class="item-name"><a class="mod" href="dist/index.html" title="mod bootstrap::dist">dist</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Implementation of the various distribution aspects of the compiler.</div></li><li><div class="item-name"><a class="mod" href="doc/index.html" title="mod bootstrap::doc">doc</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Documentation generation for rustbuilder.</div></li><li><div class="item-name"><a class="mod" href="download/index.html" title="mod bootstrap::download">download</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="flags/index.html" title="mod bootstrap::flags">flags</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Command-line interface of the rustbuild build system.</div></li><li><div class="item-name"><a class="mod" href="format/index.html" title="mod bootstrap::format">format</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Runs rustfmt on the repository.</div></li><li><div class="item-name"><a class="mod" href="install/index.html" title="mod bootstrap::install">install</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Implementation of the install aspects of the compiler.</div></li><li><div class="item-name"><a class="mod" href="job/index.html" title="mod bootstrap::job">job</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="llvm/index.html" title="mod bootstrap::llvm">llvm</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Compilation of native dependencies like LLVM.</div></li><li><div class="item-name"><a class="mod" href="metadata/index.html" title="mod bootstrap::metadata">metadata</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="render_tests/index.html" title="mod bootstrap::render_tests">render_tests</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">This module renders the JSON output of libtest into a human-readable form, trying to be as
similar to libtest’s native output as possible.</div></li><li><div class="item-name"><a class="mod" href="run/index.html" title="mod bootstrap::run">run</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="sanity/index.html" title="mod bootstrap::sanity">sanity</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Sanity checking performed by rustbuild before actually executing anything.</div></li><li><div class="item-name"><a class="mod" href="setup/index.html" title="mod bootstrap::setup">setup</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="suggest/index.html" title="mod bootstrap::suggest">suggest</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="synthetic_targets/index.html" title="mod bootstrap::synthetic_targets">synthetic_targets</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">In some cases, parts of bootstrap need to change part of a target spec just for one or a few
steps. Adding these targets to rustc proper would “leak” this implementation detail of
bootstrap, and would make it more complex to apply additional changes if the need arises.</div></li><li><div class="item-name"><a class="mod" href="tarball/index.html" title="mod bootstrap::tarball">tarball</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="test/index.html" title="mod bootstrap::test">test</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Implementation of the test-related targets of the build system.</div></li><li><div class="item-name"><a class="mod" href="tool/index.html" title="mod bootstrap::tool">tool</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="toolstate/index.html" title="mod bootstrap::toolstate">toolstate</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="mod" href="util/index.html" title="mod bootstrap::util">util</a></div><div class="desc docblock-short">Various utility functions used throughout rustbuild.</div></li></ul><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.forward.html" title="macro bootstrap::forward">forward</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="macro" href="macro.t.html" title="macro bootstrap::t">t</a></div><div class="desc docblock-short">A helper macro to <code>unwrap</code> a result except also print out details like:</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Build.html" title="struct bootstrap::Build">Build</a></div><div class="desc docblock-short">Global configuration for the build system.</div></li><li><div class="item-name"><a class="struct" href="struct.Compiler.html" title="struct bootstrap::Compiler">Compiler</a></div><div class="desc docblock-short">A structure representing a Rust compiler.</div></li><li><div class="item-name"><a class="struct" href="struct.Config.html" title="struct bootstrap::Config">Config</a></div><div class="desc docblock-short">Global configuration for the entire build and/or bootstrap.</div></li><li><div class="item-name"><a class="struct" href="struct.Crate.html" title="struct bootstrap::Crate">Crate</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.CLang.html" title="enum bootstrap::CLang">CLang</a></div></li><li><div class="item-name"><a class="enum" href="enum.DependencyType.html" title="enum bootstrap::DependencyType">DependencyType</a></div><div class="desc docblock-short">When building Rust various objects are handled differently.</div></li><li><div class="item-name"><a class="enum" href="enum.DocTests.html" title="enum bootstrap::DocTests">DocTests</a></div></li><li><div class="item-name"><a class="enum" href="enum.GitRepo.html" title="enum bootstrap::GitRepo">GitRepo</a></div></li><li><div class="item-name"><a class="enum" href="enum.Mode.html" title="enum bootstrap::Mode">Mode</a></div><div class="desc docblock-short">The various “modes” of invoking Cargo.</div></li><li><div class="item-name"><a class="enum" href="enum.PathSet.html" title="enum bootstrap::PathSet">PathSet</a></div><div class="desc docblock-short">Collection of paths used to match a task rule.</div></li><li><div class="item-name"><a class="enum" href="enum.Subcommand.html" title="enum bootstrap::Subcommand">Subcommand</a></div></li></ul><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.EXTRA_CHECK_CFGS.html" title="constant bootstrap::EXTRA_CHECK_CFGS">EXTRA_CHECK_CFGS</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Extra –check-cfg to add when building
(Mode restriction, config name, config values (if any))</div></li><li><div class="item-name"><a class="constant" href="constant.LLD_FILE_NAMES.html" title="constant bootstrap::LLD_FILE_NAMES">LLD_FILE_NAMES</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">LLD file names for all flavors.</div></li><li><div class="item-name"><a class="constant" href="constant.LLVM_TOOLS.html" title="constant bootstrap::LLVM_TOOLS">LLVM_TOOLS</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="constant" href="constant.VERSION.html" title="constant bootstrap::VERSION">VERSION</a></div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.chmod.html" title="fn bootstrap::chmod">chmod</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="fn" href="fn.envify.html" title="fn bootstrap::envify">envify</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="fn" href="fn.extract_beta_rev.html" title="fn bootstrap::extract_beta_rev">extract_beta_rev</a></div><div class="desc docblock-short">Extract the beta revision from the full version string.</div></li></ul></section></div></main></body></html>